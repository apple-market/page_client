
<!DOCTYPE html>
<html lang="ru">
<head>
 <meta charset="UTF-8" />
 <title>Apple Market ‚Äì –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</title>
 <meta name="viewport" content="width=device-width, initial-scale=1.0" />
 <style>
  :root {
   --bg: #050509;
   --bg-soft: #0d0d15;
   --card: #141421;
   --accent: #00c853;
   --accent-soft: rgba(0, 200, 83, 0.12);
   --accent-strong: rgba(0, 200, 83, 0.22);
   --accent-text: #eafff3;
   --border: #25253a;
   --border-soft: #1a1a29;
   --text: #f4f4ff;
   --text-soft: #a9a9c7;
   --danger: #ff5252;
   --warning: #ffb300;
   --muted: #55556d;
   --shadow: 0 18px 45px rgba(0, 0, 0, 0.65);
   --radius-lg: 24px;
   --radius-full: 999px;
  }

  * {
   box-sizing: border-box;
   margin: 0;
   padding: 0;
  }

  body {
   font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", sans-serif;
   background: radial-gradient(circle at top left, #161628 0, #050509 45%, #000000 100%);
   color: var(--text);
   min-height: 100vh;
   display: flex;
   align-items: stretch;
   justify-content: center;
   padding: 24px;
  }

  #app {
   width: 100%;
   max-width: 1200px;
   margin: auto;
  }

  .card {
   background: linear-gradient(135deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
   border-radius: var(--radius-lg);
   border: 1px solid var(--border);
   box-shadow: var(--shadow);
   padding: 24px;
   backdrop-filter: blur(22px);
  }

  .hidden { display: none !important; }

  /* LOGO */
  .logo-row {
   display: flex;
   align-items: center;
   gap: 10px;
   margin-bottom: 20px;
  }
  .logo-icon {
   width: 32px;
   height: 32px;
   border-radius: 10px;
   background: radial-gradient(circle at 30% 20%, #ffffff 0, #d0d0ff 25%, #6363ff 55%, #111129 100%);
   display: flex;
   align-items: center;
   justify-content: center;
   font-weight: 700;
   font-size: 18px;
   color: var(--text);
   box-shadow: 0 0 20px rgba(99, 99, 255, 0.7);
  }
  .logo-text-main {
   font-weight: 700;
   letter-spacing: 0.04em;
   font-size: 20px;
  }
  .logo-text-sub {
   font-size: 11px;
   text-transform: uppercase;
   letter-spacing: 0.16em;
   color: var(--text-soft);
  }

  /* LOGIN */
  #login-screen {
   max-width: 480px;
   margin: 0 auto;
  }

  .login-title {
   font-size: 26px;
   font-weight: 700;
   margin-bottom: 10px;
  }

  .login-subtitle {
   color: var(--text-soft);
   font-size: 14px;
   margin-bottom: 20px;
  }

  .login-grid {
   display: grid;
   grid-template-columns: 1fr;
   gap: 16px;
   margin-top: 16px;
  }

  .field-label {
   font-size: 13px;
   color: var(--text-soft);
   margin-bottom: 4px;
  }

  .field-hint {
   font-size: 11px;
   color: var(--muted);
   margin-top: 3px;
  }

  .input {
   width: 100%;
   padding: 11px 13px;
   border-radius: 12px;
   border: 1px solid var(--border-soft);
   background: rgba(7, 7, 14, 0.9);
   color: var(--text);
   font-size: 14px;
   outline: none;
   transition: border 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
  }

  .input:focus {
   border-color: var(--accent);
   box-shadow: 0 0 0 1px var(--accent-soft);
   background: rgba(11, 11, 20, 0.95);
  }

  .btn {
   border: none;
   cursor: pointer;
   padding: 11px 18px;
   border-radius: var(--radius-full);
   font-size: 14px;
   font-weight: 600;
   display: inline-flex;
   align-items: center;
   justify-content: center;
   gap: 8px;
   transition: transform 0.16s ease, box-shadow 0.16s ease, background 0.16s ease, opacity 0.16s ease;
   white-space: nowrap;
  }

  .btn-primary {
   background: linear-gradient(135deg, #00c853, #00e676);
   color: #041307;
   box-shadow: 0 10px 30px rgba(0, 200, 83, 0.4);
  }

  .btn-primary:hover {
   transform: translateY(-1px);
   box-shadow: 0 12px 34px rgba(0, 200, 83, 0.5);
  }

  .btn-ghost {
   background: transparent;
   color: var(--text-soft);
   padding-inline: 12px;
  }
  .btn-ghost:hover {
   background: rgba(255,255,255,0.05);
  }

  .btn-sm {
   padding: 7px 12px;
   font-size: 12px;
   border-radius: 999px;
  }

  .status-pill {
   display: inline-flex;
   align-items: center;
   padding: 4px 9px;
   font-size: 11px;
   border-radius: 999px;
   background: rgba(255,255,255,0.03);
   border: 1px solid rgba(255,255,255,0.06);
   gap: 6px;
  }

  .status-dot {
   width: 6px;
   height: 6px;
   border-radius: 999px;
   background: var(--accent);
  }

  .danger { color: var(--danger); }
  .error-box {
   margin-top: 10px;
   padding: 8px 10px;
   border-radius: 12px;
   border: 1px solid rgba(255, 82, 82, 0.7);
   background: radial-gradient(circle at top left, rgba(255,82,82,0.2), rgba(10,0,0,0.9));
   font-size: 12px;
   color: #ffb3b3;
   display: none;
  }

  .login-footer {
   margin-top: 22px;
   font-size: 11px;
   color: var(--muted);
   display: flex;
   justify-content: space-between;
   gap: 10px;
   flex-wrap: wrap;
  }

  /* LAYOUT DASHBOARD */
  #dashboard {
   display: flex;
   flex-direction: column;
   gap: 16px;
   max-height: 100vh;
  }

  .dash-top {
   display: flex;
   align-items: center;
   justify-content: space-between;
   gap: 12px;
  }

  .user-greeting {
   font-size: 18px;
   font-weight: 600;
  }
  .user-sub {
   font-size: 12px;
   color: var(--text-soft);
   margin-top: 2px;
  }

  .pill-row {
   display: flex;
   align-items: center;
   gap: 10px;
   flex-wrap: wrap;
  }

  .user-pill {
   font-size: 12px;
   padding: 4px 10px;
   border-radius: 999px;
   background: rgba(255,255,255,0.03);
   border: 1px solid rgba(255,255,255,0.06);
   color: var(--text-soft);
  }

  .logout-btn {
   padding: 7px 12px;
  }

  .dash-body {
   display: grid;
   grid-template-columns: 280px 1fr;
   gap: 16px;
   margin-top: 4px;
   min-height: 0;
   flex: 1;
  }

  /* NAV */
  .nav {
   border-radius: var(--radius-lg);
   border: 1px solid var(--border);
   background: radial-gradient(circle at top left, rgba(255,255,255,0.04), rgba(6,6,12,0.96));
   padding: 14px 12px;
   display: flex;
   flex-direction: column;
   gap: 4px;
   min-height: 0;
  }

  .nav-title {
   font-size: 11px;
   letter-spacing: 0.16em;
   text-transform: uppercase;
   color: var(--text-soft);
   margin-bottom: 6px;
   padding-inline: 8px;
  }

  .nav-item {
   width: 100%;
   text-align: left;
   padding: 9px 10px;
   border-radius: 999px;
   border: none;
   background: transparent;
   color: var(--text-soft);
   font-size: 13px;
   display: flex;
   align-items: center;
   gap: 8px;
   cursor: pointer;
   transition: background 0.15s ease, color 0.15s ease, transform 0.12s ease;
  }

  .nav-item span.icon {
   font-size: 15px;
   width: 18px;
   text-align: center;
  }

  .nav-item.active {
   background: radial-gradient(circle at top left, var(--accent-strong), rgba(0,0,0,0.9));
   color: var(--accent-text);
   transform: translateY(-1px);
  }
  .nav-item:hover:not(.active) {
   background: rgba(255,255,255,0.03);
   color: var(--text);
  }

  .nav-footer {
   margin-top: auto;
   padding-inline: 8px;
   padding-top: 8px;
   border-top: 1px dashed rgba(255,255,255,0.08);
   font-size: 11px;
   color: var(--muted);
  }

  /* CONTENT */
  .content {
   border-radius: var(--radius-lg);
   border: 1px solid var(--border);
   background: radial-gradient(circle at top left, rgba(255,255,255,0.04), rgba(4,4,10,0.96));
   padding: 18px 18px 16px;
   min-height: 0;
   display: flex;
   flex-direction: column;
   gap: 12px;
  }

  .content-header {
   display: flex;
   justify-content: space-between;
   gap: 10px;
   align-items: center;
  }

  .content-title {
   font-size: 18px;
   font-weight: 600;
  }

  .content-subtitle {
   font-size: 12px;
   color: var(--text-soft);
   margin-top: 2px;
  }

  .content-row {
   display: grid;
   grid-template-columns: 1.1fr 1fr;
   gap: 12px;
  }

  .content-row-3 {
   display: grid;
   grid-template-columns: repeat(3, minmax(0, 1fr));
   gap: 12px;
  }

  .content-row-2 {
   display: grid;
   grid-template-columns: repeat(2, minmax(0, 1fr));
   gap: 12px;
  }

  .section-card {
   border-radius: 18px;
   border: 1px solid rgba(255,255,255,0.06);
   background: linear-gradient(135deg, rgba(0,0,0,0.7), rgba(8,8,20,0.9));
   padding: 12px 13px 12px;
   display: flex;
   flex-direction: column;
   gap: 8px;
  }

  .section-header {
   display: flex;
   justify-content: space-between;
   align-items: center;
   gap: 8px;
  }

  .section-title {
   font-size: 13px;
   font-weight: 600;
  }

  .section-badge {
   font-size: 11px;
   padding: 3px 8px;
   border-radius: 999px;
   background: rgba(255,255,255,0.04);
   color: var(--text-soft);
  }

  .section-content {
   font-size: 12px;
   color: var(--text-soft);
  }

  .kpi-row {
   display: flex;
   gap: 10px;
   flex-wrap: wrap;
  }

  .kpi-pill {
   font-size: 11px;
   padding: 6px 10px;
   border-radius: 999px;
   background: rgba(255,255,255,0.03);
   border: 1px solid rgba(255,255,255,0.06);
   display: inline-flex;
   align-items: baseline;
   gap: 5px;
  }
  .kpi-pill strong {
   font-size: 13px;
  }

  .kpi-pill.accent {
   background: var(--accent-soft);
   border-color: var(--accent);
   color: var(--accent-text);
  }

  /* TABLES */
  .table {
   width: 100%;
   border-collapse: collapse;
   font-size: 12px;
   margin-top: 4px;
  }

  .table th,
  .table td {
   padding: 6px 8px;
   border-bottom: 1px solid rgba(255,255,255,0.05);
   text-align: left;
  }

  .table th {
   font-size: 11px;
   text-transform: uppercase;
   letter-spacing: 0.08em;
   color: var(--muted);
  }

  .table tr:last-of-type td {
   border-bottom: none;
  }

  .table tr:hover td {
   background: rgba(255,255,255,0.02);
  }

  .tag {
   display: inline-flex;
   align-items: center;
   gap: 6px;
   padding: 2px 8px;
   border-radius: 999px;
   border: 1px solid rgba(255,255,255,0.08);
   font-size: 11px;
   color: var(--text-soft);
  }
  .tag-dot {
   width: 6px;
   height: 6px;
   border-radius: 999px;
   background: var(--accent);
  }

  .badge-status {
   font-size: 11px;
   padding: 3px 8px;
   border-radius: 999px;
   background: rgba(255,255,255,0.03);
   border: 1px solid rgba(255,255,255,0.06);
  }
  .badge-status.success {
   color: #7cffb4;
   border-color: rgba(124,255,180,0.5);
  }
  .badge-status.pending {
   color: #ffe082;
   border-color: rgba(255,224,130,0.5);
  }

  /* LISTS & FORMS */
  .field-row {
   display: grid;
   grid-template-columns: repeat(2, minmax(0, 1fr));
   gap: 10px;
  }

  .form-group {
   margin-bottom: 10px;
  }

  .pill-address {
   border-radius: 14px;
   border: 1px solid rgba(255,255,255,0.08);
   padding: 8px 10px;
   display: flex;
   justify-content: space-between;
   align-items: center;
   gap: 8px;
   font-size: 12px;
   background: rgba(255,255,255,0.02);
  }
  .pill-address-main {
   font-size: 10px;
   text-transform: uppercase;
   letter-spacing: 0.12em;
   color: var(--accent-text);
   padding: 2px 7px;
   border-radius: 999px;
   background: var(--accent-soft);
   border: 1px solid var(--accent);
  }
  .pill-address-actions {
   display: flex;
   gap: 6px;
  }

  /* CHAT */
  .chat-wrap {
   display: grid;
   grid-template-rows: auto minmax(0, 1fr) auto;
   gap: 8px;
   height: 100%;
  }

  .chat-status {
   font-size: 11px;
   color: var(--text-soft);
   display: flex;
   align-items: center;
   gap: 6px;
  }

  .chat-window {
   border-radius: 14px;
   border: 1px solid rgba(255,255,255,0.08);
   background: rgba(0,0,0,0.55);
   padding: 8px;
   overflow: auto;
   max-height: 240px;
  }

  .msg {
   font-size: 12px;
   padding: 7px 9px;
   border-radius: 12px;
   margin-bottom: 6px;
   max-width: 82%;
   line-height: 1.32;
  }

  .msg-manager {
   background: rgba(255,255,255,0.04);
   border: 1px solid rgba(255,255,255,0.08);
   border-bottom-left-radius: 2px;
  }

  .msg-user {
   margin-left: auto;
   background: var(--accent);
   color: #021207;
   border-bottom-right-radius: 2px;
  }

  .msg-time {
   font-size: 10px;
   opacity: 0.6;
   margin-top: 2px;
  }

  .chat-input-row {
   display: flex;
   align-items: center;
   gap: 6px;
  }

  .chat-input-row input {
   flex: 1;
  }

  /* RESPONSIVE */
  @media (max-width: 960px) {
   body {
    padding: 10px;
   }
   .dash-body {
    grid-template-columns: 1fr;
   }
   .nav {
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-between;
   }
   .nav-title,
   .nav-footer {
    display: none;
   }
   .nav-item {
    flex: 1 0 calc(50% - 4px);
   }
  }

  @media (max-width: 720px) {
   .content-row,
   .content-row-3,
   .content-row-2,
   .field-row {
    grid-template-columns: 1fr;
   }
   .card {
    padding: 18px 16px;
   }
   .dash-top {
    flex-direction: column;
    align-items: flex-start;
   }
  }
 
/* ===== MOBILE ADAPTATION ===== */
@media (max-width: 900px) {
  .wrap { flex-direction: column; }
  nav {
    width: 100%;
    display: flex;
    overflow-x: auto;
    border-right: none;
    border-bottom: 1px solid #222;
    gap: 8px;
  }
  nav button {
    flex: 1;
    white-space: nowrap;
  }
}

@media (max-width: 600px) {
  body { font-size: 14px; }
  #login-screen { margin: 30px 10px; }
  .card { padding: 12px; border-radius: 12px; }
  nav { padding: 10px; }
  nav button { padding: 8px; font-size: 13px; }
  main { padding: 10px; }
  h2 { font-size: 18px; }
  input, button { font-size: 14px; }
}

</style>
</head>
<body>
 <div id="app">
  <!-- LOGIN SCREEN -->
  <div id="login-screen" class="card">
   <div class="logo-row">
    <div class="logo-icon">Ô£ø</div>
    <div>
     <div class="logo-text-main">Apple Market</div>
     <div class="logo-text-sub">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞</div>
    </div>
   </div>

   <div class="login-title">–í—Ö–æ–¥ –ø–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É —Ç–æ–∫–µ–Ω—É</div>
   <div class="login-subtitle">
    –í–≤–µ–¥–∏—Ç–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π –Ω–æ–º–µ—Ä –∫–ª–∏–µ–Ω—Ç–∞ –∏ –ø–∞—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø–æ–ª—É—á–∏–ª–∏ –æ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞ Apple Market.
   </div>

   <div class="section-card" style="margin-top:10px;">
    <div class="section-header">
     <div class="section-title">–î–µ–º–æ-–¥–æ—Å—Ç—É–ø –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞–±–∏–Ω–µ—Ç–∞</div>
     <span class="section-badge">–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å</span>
    </div>
    <div class="section-content">
     –¢–æ–∫–µ–Ω –∫–ª–∏–µ–Ω—Ç–∞: <code id="demo-token">749201</code><br />
     –ü–∞—Ä–æ–ª—å: <code id="demo-pass">123456</code><br />
     <span style="font-size:11px;color:var(--muted);">–≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.</span>
    </div>
   </div>

   <div class="login-grid">
    <div>
     <div class="field-label">–¢–æ–∫–µ–Ω –∫–ª–∏–µ–Ω—Ç–∞</div>
     <input
      id="token-input"
      class="input"
      placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 749201"
      inputmode="numeric"
     />
     <div class="field-hint">–¶–∏—Ñ—Ä–æ–≤–æ–π –Ω–æ–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –≤—ã–¥–∞—ë—Ç–µ –∫–ª–∏–µ–Ω—Ç—É.</div>
    </div>

    <div>
     <div class="field-label">–ü–∞—Ä–æ–ª—å</div>
     <input
      id="password-input"
      class="input"
      type="password"
      placeholder="–ü–∞—Ä–æ–ª—å –æ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞"
     />
     <div class="field-hint">–ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –µ–≥–æ —Å–º–µ–Ω–∏—Ç—å –≤ –∫–∞–±–∏–Ω–µ—Ç–µ.</div>
    </div>

    <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap;">
     <button id="login-btn" onclick="loginFixed()" class="btn btn-primary">
      –í–æ–π—Ç–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç
     </button>
     <button id="fill-demo-btn" class="btn btn-ghost btn-sm">
      –ü–æ–¥—Å—Ç–∞–≤–∏—Ç—å –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
     </button>
     <div class="status-pill">
      <span class="status-dot"></span>
      –ó–∞—â–∏—â—ë–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
     </div>
    </div>
   </div>

   <div id="login-error" class="error-box">
    –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.
    <br />–î–ª—è —Ç–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: <strong>749201 / 123456</strong>.
   </div>

   <div class="login-footer">
    <span>–ó–∞–±—ã–ª–∏ —Ç–æ–∫–µ–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å? –°–≤—è–∂–∏—Ç–µ—Å—å —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º Apple Market.</span>
    <span>ID –≤–µ—Ä—Å–∏–∏ –∫–∞–±–∏–Ω–µ—Ç–∞: <code>AM-CAB-1.0</code></span>
   </div>
  </div>

  <!-- DASHBOARD -->
  <div id="dashboard" class="hidden">
   <div class="dash-top">
    <div>
     <div class="logo-row" style="margin-bottom:6px;">
      <div class="logo-icon">Ô£ø</div>
      <div>
       <div class="logo-text-main">Apple Market</div>
       <div class="logo-text-sub">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</div>
      </div>
     </div>
     <div class="user-greeting" id="user-greeting"></div>
     <div class="user-sub">
      –í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç: –∑–∞–∫–∞–∑—ã, –±–æ–Ω—É—Å—ã, –∞–¥—Ä–µ—Å–∞ –∏ —Å–≤—è–∑—å —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.
     </div>
     <div class="pill-row" style="margin-top:8px;">
      <div class="user-pill" id="pill-tier">–°—Ç–∞—Ç—É—Å: –ö–ª–∏–µ–Ω—Ç</div>
      <div class="user-pill" id="pill-token">–¢–æ–∫–µ–Ω: ‚Äî</div>
      
     </div>
    </div>
    <button id="logout-btn" class="btn btn-ghost logout-btn">
     –í—ã–π—Ç–∏
    </button>
   </div>

   <div class="dash-body">
    <!-- NAV -->
    <nav class="nav">
     <div class="nav-title">–†–∞–∑–¥–µ–ª—ã –∫–∞–±–∏–Ω–µ—Ç–∞</div>
     <button class="nav-item active" data-section="main">
      <span class="icon">üè†</span>
      –ì–ª–∞–≤–Ω–∞—è
     </button>
     <button class="nav-item" data-section="orders">
      <span class="icon">üì¶</span>
      –ó–∞–∫–∞–∑—ã
     </button>
     <button class="nav-item" data-section="bonuses">
      <span class="icon">üéÅ</span>
      –ë–æ–Ω—É—Å—ã / –°–∫–∏–¥–∫–∏
     </button>
     <button class="nav-item" data-section="profile">
      <span class="icon">üë§</span>
      –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
     </button>
     <button class="nav-item" data-section="addresses">
      <span class="icon">üìç</span>
      –ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
     </button>
     <button class="nav-item" data-section="support">
      <span class="icon">üí¨</span>
      –ü–æ–¥–¥–µ—Ä–∂–∫–∞
     </button>

     <div class="nav-footer">
      –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç Apple Market –∏ –º–µ–Ω–µ–¥–∂–µ—Ä—ã –º–∞–≥–∞–∑–∏–Ω–∞.
      –í—ã –º–æ–∂–µ—Ç–µ –≤—Ä—É—á–Ω—É—é –≤—ã–¥–∞–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã –∏ –ø–∞—Ä–æ–ª–∏.
     </div>
    </nav>

    <!-- CONTENT -->
    <main class="content">
     <!-- MAIN -->
     <section id="section-main">
      <div class="content-header">
       <div>
        <div class="content-title">–ì–ª–∞–≤–Ω–∞—è</div>
        <div class="content-subtitle">
         –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –ø–æ —Ç–µ–∫—É—â–∏–º –∑–∞–∫–∞–∑–∞–º, –±–æ–Ω—É—Å–∞–º –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º.
        </div>
       </div>
      </div>

      <div class="content-row">
       <div class="section-card" id="current-order-card">
        <div class="section-header">
         <div class="section-title">–¢–µ–∫—É—â–∏–π –∑–∞–∫–∞–∑</div>
         <span class="section-badge" id="current-order-status-badge">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤</span>
        </div>
        <div class="section-content" id="current-order-content">
         –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —É –≤–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã –æ—Ñ–æ—Ä–º–∏—Ç–µ –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ Apple Market, –æ–Ω –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å.
        </div>
       </div>

       <div class="section-card">
        <div class="section-header">
         <div class="section-title">–í–∞—à–∏ –±–æ–Ω—É—Å—ã</div>
         <span class="section-badge">–ö–µ—à–±—ç–∫ –∏ —Å–∫–∏–¥–∫–∏</span>
        </div>
        <div class="section-content">
         <div class="kpi-row">
          <div class="kpi-pill accent">
           –ë–∞–ª–∞–Ω—Å: <strong id="bonus-balance">0 BYN</strong>
          </div>
          <div class="kpi-pill">
           –ö–µ—à–±—ç–∫: <strong id="bonus-cashback">0%</strong>
          </div>
          <div class="kpi-pill">
           –î–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è: <strong id="bonus-to-next">‚Äî</strong>
          </div>
         </div>
         <div style="margin-top:8px;font-size:11px;color:var(--muted);">
          –ë–æ–Ω—É—Å—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —Å–∫–∏–¥–∫—É –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –ø–æ–∫—É–ø–∫–∞—Ö —á–µ—Ä–µ–∑ –º–µ–Ω–µ–¥–∂–µ—Ä–∞.
         </div>
        </div>
       </div>
      </div>

      <div class="content-row-3" style="margin-top:8px;">
       <div class="section-card">
        <div class="section-header">
         <div class="section-title">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</div>
         <span class="section-badge">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</span>
        </div>
        <div class="section-content" id="personal-offers">
         –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å—Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö –ø—Ä–æ—à–ª—ã—Ö –ø–æ–∫—É–ø–æ–∫.
        </div>
       </div>
       <div class="section-card">
        <div class="section-header">
         <div class="section-title">–ö—Ä–∞—Ç–∫–æ –ø–æ –∑–∞–∫–∞–∑–∞–º</div>
         <span class="section-badge">–ò—Å—Ç–æ—Ä–∏—è</span>
        </div>
        <div class="section-content" id="orders-summary">
         –°—É–º–º–∞ –∑–∞–∫–∞–∑–æ–≤: ‚Äî
        </div>
       </div>
       <div class="section-card">
        <div class="section-header">
         <div class="section-title">–ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏</div>
         <span class="section-badge">–°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∞–¥—Ä–µ—Å–∞</span>
        </div>
        <div class="section-content" id="addresses-summary">
         –ü–æ–∫–∞ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤.
        </div>
       </div>
      </div>
     </section>

     <!-- ORDERS -->
     <section id="section-orders" class="hidden">
      <div class="content-header">
       <div>
        <div class="content-title">–ó–∞–∫–∞–∑—ã</div>
        <div class="content-subtitle">
         –¢–µ–∫—â–∏–µ –∑–∞–∫–∞–∑—ã –∏ –∏—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.
        </div>
       </div>
      </div>

      <div class="content-row">
       <div class="section-card">
        <div class="section-header">
         <div class="section-title">–¢–µ–∫—É—â–∏–µ –∑–∞–∫–∞–∑—ã</div>
         <span class="section-badge" id="orders-current-count">0 –∞–∫—Ç–∏–≤–Ω—ã—Ö</span>
        </div>
        <div class="section-content" id="orders-current-list">
         –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤.
        </div>
       </div>

       <div class="section-card">
        <div class="section-header">
         <div class="section-title">–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</div>
         <span class="section-badge">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–∫–∞–∑—ã</span>
        </div>
        <div class="section-content">
         <table class="table" id="orders-history-table">
          <thead>
           <tr>
            <th>‚Ññ –∑–∞–∫–∞–∑–∞</th>
            <th>–î–∞—Ç–∞</th>
            <th>–°—É–º–º–∞</th>
            <th>–°—Ç–∞—Ç—É—Å</th>
            <th>–î–æ–∫—É–º–µ–Ω—Ç—ã</th>
           </tr>
          </thead>
          <tbody>
           <tr>
            <td colspan="5">–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –ø–æ–∫—É–ø–∫–∏.</td>
           </tr>
          </tbody>
         </table>
        </div>
       </div>
      </div>
     </section>

     <!-- BONUSES -->
     <section id="section-bonuses" class="hidden">
      <div class="content-header">
       <div>
        <div class="content-title">–ë–æ–Ω—É—Å—ã –∏ —Å–∫–∏–¥–∫–∏</div>
        <div class="content-subtitle">
         –ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã –≤—Å–µ –≤–∞—à–∏ –±–æ–Ω—É—Å—ã, –∫–µ—à–±—ç–∫ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–∫–∏–¥–∫–∏.
        </div>
       </div>
      </div>

      <div class="content-row-2">
       <div class="section-card">
        <div class="section-header">
         <div class="section-title">–¢–µ–∫—É—â–∏–µ –±–æ–Ω—É—Å—ã</div>
         <span class="section-badge">–ë–∞–ª–∞–Ω—Å</span>
        </div>
        <div class="section-content">
         <div class="kpi-row">
          <div class="kpi-pill accent">
           –ë–∞–ª–∞–Ω—Å: <strong id="bonus-balance-2">0 BYN</strong>
          </div>
          <div class="kpi-pill">
           –ó–∞–º–æ—Ä–æ–∂–µ–Ω–æ: <strong id="bonus-frozen">0 BYN</strong>
          </div>
         </div>
         <div style="margin-top:8px;font-size:11px;color:var(--muted);">
          –ë–æ–Ω—É—Å—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–Ω—É—Å—ã –º–æ–∂–Ω–æ –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–æ–≤ —á–µ—Ä–µ–∑ –º–µ–Ω–µ–¥–∂–µ—Ä–∞.
         </div>
        </div>
       </div>

       <div class="section-card">
        <div class="section-header">
         <div class="section-title">–°–∫–∏–¥–∫–∏</div>
         <span class="section-badge">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ</span>
        </div>
        <div class="section-content" id="discounts-list">
         –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–∫–∏–¥–∫–∏ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å.
        </div>
       </div>
      </div>
     </section>

     <!-- PROFILE -->
     <section id="section-profile" class="hidden">
      <div class="content-header">
       <div>
        <div class="content-title">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
        <div class="content-subtitle">
         –ò–º—è, –∫–æ–Ω—Ç–∞–∫—Ç—ã, –ø–∞—Ä–æ–ª—å –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
        </div>
       </div>
      </div>

      <div class="content-row-2">
       <div class="section-card">
        <div class="section-header">
         <div class="section-title">–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</div>
         <span class="section-badge">–ö–æ–Ω—Ç–∞–∫—Ç—ã</span>
        </div>
        <div class="section-content">
         <div class="form-group">
          <div class="field-label">–ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è</div>
          <input id="profile-name" class="input" />
         </div>
         <div class="form-group">
          <div class="field-label">–¢–µ–ª–µ—Ñ–æ–Ω</div>
          <input id="profile-phone" class="input" placeholder="+375 (__) ___-__-__" />
         </div>
         <div class="form-group">
          <div class="field-label">E-mail (–ø–æ –∂–µ–ª–∞–Ω–∏—é)</div>
          <input id="profile-email" class="input" placeholder="example@mail.com" />
         </div>
         <button class="btn btn-primary btn-sm" id="btn-save-profile">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
        </div>
       </div>

       <div class="section-card">
        <div class="section-header">
         <div class="section-title">–ü–∞—Ä–æ–ª—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</div>
         <span class="section-badge">–î–æ—Å—Ç—É–ø</span>
        </div>
        <div class="section-content">
         <div class="form-group">
          <div class="field-label">–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</div>
          <input id="profile-pass-new" class="input" type="password" placeholder="–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å" />
         </div>
         <div class="form-group">
          <div class="field-label">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</div>
          <input id="profile-pass-confirm" class="input" type="password" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" />
         </div>
         <button class="btn btn-primary btn-sm" id="btn-change-password">–û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>

         <div style="margin-top:10px;font-size:11px;color:var(--muted);">
          –¢–æ–∫–µ–Ω (—Ü–∏—Ñ—Ä–æ–≤–æ–π –Ω–æ–º–µ—Ä) –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º. –í—ã –º–æ–∂–µ—Ç–µ –¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—É –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å, –µ—Å–ª–∏ –æ–Ω –∑–∞–±—ã–ª —Å—Ç–∞—Ä—ã–π.
         </div>
        </div>
       </div>
      </div>
     </section>

     <!-- ADDRESSES -->
     <section id="section-addresses" class="hidden">
      <div class="content-header">
       <div>
        <div class="content-title">–ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏</div>
        <div class="content-subtitle">
         –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤.
        </div>
       </div>
      </div>

      <div class="content-row-2">
       <div class="section-card">
        <div class="section-header">
         <div class="section-title">–ú–æ–∏ –∞–¥—Ä–µ—Å–∞</div>
         <span class="section-badge" id="addresses-count">0 –∞–¥—Ä–µ—Å–æ–≤</span>
        </div>
        <div class="section-content" id="addresses-list">
         –ü–æ–∫–∞ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤.
        </div>
       </div>

       <div class="section-card">
        <div class="section-header">
         <div class="section-title">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∞–¥—Ä–µ—Å</div>
         <span class="section-badge">–ù–æ–≤—ã–π</span>
        </div>
        <div class="section-content">
         <div class="form-group">
          <div class="field-label">–ì–æ—Ä–æ–¥</div>
          <input id="addr-city" class="input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–∏–Ω—Å–∫" />
         </div>
         <div class="form-group">
          <div class="field-label">–£–ª–∏—Ü–∞, –¥–æ–º, –∫–≤–∞—Ä—Ç–∏—Ä–∞</div>
          <input id="addr-line" class="input" placeholder="–£–ª–∏—Ü–∞, –¥–æ–º, –ø–æ–¥—ä–µ–∑–¥, –∫–æ–¥" />
         </div>
         <div class="form-group">
          <div class="field-label">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è –∫—É—Ä—å–µ—Ä–∞</div>
          <input id="addr-comment" class="input" placeholder="–î–æ–º–æ—Ñ–æ–Ω, –æ—Ä–∏–µ–Ω—Ç–∏—Ä—ã –∏ —Ç.–¥." />
         </div>
         <div class="form-group" style="display:flex;align-items:center;gap:6px;font-size:12px;">
          <input id="addr-main" type="checkbox" style="width:14px;height:14px;" />
          <span>–°–¥–µ–ª–∞—Ç—å –∞–¥—Ä–µ—Å –æ—Å–Ω–æ–≤–Ω—ã–º</span>
         </div>
         <button class="btn btn-primary btn-sm" id="btn-add-address">–î–æ–±–∞–≤–∏—Ç—å –∞–¥—Ä–µ—Å</button>
        </div>
       </div>
      </div>
     </section>

     <!-- SUPPORT -->
     <section id="section-support" class="hidden">
      <div class="content-header">
       <div>
        <div class="content-title">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div>
        <div class="content-subtitle">
         –ß–∞—Ç —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º Apple Market –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º –∑–∞–∫–∞–∑–æ–≤, –≥–∞—Ä–∞–Ω—Ç–∏–π –∏ –¥–æ—Å—Ç–∞–≤–æ–∫.
        </div>
       </div>
      </div>

      <div class="section-card chat-wrap">
       <div class="chat-status">
        <span class="status-dot"></span>
        –ú–µ–Ω–µ–¥–∂–µ—Ä –æ–Ω–ª–∞–π–Ω –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è. –°–µ–π—á–∞—Å –≤—ã –ø–∏—à–µ—Ç–µ –≤ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —á–∞—Ç.
       </div>

       <div class="chat-window" id="chat-window">
        <div class="msg msg-manager">
         –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! üëã<br />
         –≠—Ç–æ –¥–µ–º–æ-—á–∞—Ç Apple Market. –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å –≤–æ–ø—Ä–æ—Å, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø–µ—Ä–µ–ø–∏—Å–∫–∞.
         <div class="msg-time">–¢–æ–ª—å–∫–æ —á—Ç–æ</div>
        </div>
       </div>

       <div class="chat-input-row">
        <input
         id="chat-input"
         class="input"
         placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä—É..."
        />
        <button class="btn btn-primary btn-sm" id="chat-send-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
       </div>
      </div>
     </section>
    </main>
   </div>
  </div>
 </div>

 <script>

// ===== DEMO + REAL CLIENTS MODE =====
const DEMO_MODE = true; // –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å true –¥–ª—è –ø–æ–∫–∞–∑–∞ –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–∞–º

const demoAccount = {
  token: "000000",
  password: "000000",
  name: "–î–µ–º–æ-–∫–ª–∏–µ–Ω—Ç"
};

const clients = [
  {
    token: "749201",
    password: "123456",
    name: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–æ–≤"
  },
  {
    token: "882314",
    password: "458921",
    name: "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
  }
];

  // –ü—Ä–æ—Å—Ç—ã–µ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
  const demoClient = {
   token: "749201",
   password: "123456",
   name: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–æ–≤",
   phone: "+375 (29) 123-45-67",
   email: "client@example.com",
   tier: "Premium",
   bonuses: {
    balance: 320,
    frozen: 40,
    cashback: 3,
    toNextTier: "180 BYN –¥–æ —Å—Ç–∞—Ç—É—Å–∞ Ultra"
   },
   addresses: [
    {
     id: 1,
     city: "–ú–∏–Ω—Å–∫",
     line: "—É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤. 25",
     comment: "–ö–æ–¥ –¥–æ–º–æ—Ñ–æ–Ω–∞ 1234",
     main: true
    },
    {
     id: 2,
     city: "–ú–∏–Ω—Å–∫",
     line: "—É–ª. –ü–æ–±–µ–¥–∏—Ç–µ–ª–µ–π, –¥. 5, –æ—Ñ–∏—Å 314",
     comment: '–ë–∏–∑–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä "Sky"',
     main: false
    }
   ],
   orders: {
    current: [
     {
      id: "AM-10492",
      status: "–í –ø—É—Ç–∏",
      statusCode: "in_transit",
      sum: 3490,
      currency: "BYN",
      items: [
       { name: "iPhone 14 Pro 256GB", qty: 1 },
       { name: "–ß–µ—Ö–æ–ª MagSafe", qty: 1 }
      ],
      eta: "08.12.2025",
      paymentStatus: "–û–ø–ª–∞—á–µ–Ω–æ",
      address: "–≥. –ú–∏–Ω—Å–∫, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤. 25",
      tracking: "TRK-BY-9921",
      docs: ["–ß–µ–∫", "–¢–æ–≤–∞—Ä–Ω—ã–π —á–µ–∫", "–ù–∞–∫–ª–∞–¥–Ω–∞—è"]
     }
    ],
    history: [
     {
      id: "AM-99201",
      date: "12.11.2025",
      sum: 1990,
      status: "–î–æ—Å—Ç–∞–≤–ª–µ–Ω",
      docs: true
     },
     {
      id: "AM-98110",
      date: "05.10.2025",
      sum: 890,
      status: "–î–æ—Å—Ç–∞–≤–ª–µ–Ω",
      docs: true
     },
     {
      id: "AM-97440",
      date: "21.09.2025",
      sum: 1290,
      status: "–û—Ç–º–µ–Ω—ë–Ω",
      docs: false
     }
    ]
   },
   offers: [
    "iPhone 15 Pro —Å–æ —Å–∫–∏–¥–∫–æ–π –¥–ª—è –≤–∞—Å ‚àí7%",
    "AirPods Pro 2 —Å–æ —Å–ø–µ—Ü—Ü–µ–Ω–æ–π –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ iPhone",
    "–°–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞–±–µ–ª–∏ –∏ –±–ª–æ–∫–∏ –ø–∏—Ç–∞–Ω–∏—è —Å –∫–µ—à–±—ç–∫–æ–º 5%"
   ],
   discounts: [
    "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Å–∫–∏–¥–∫–∞ –Ω–∞ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã Apple ‚àí10%",
    "–°–∫–∏–¥–∫–∞ –∫–æ –¥–Ω—é —Ä–æ–∂–¥–µ–Ω–∏—è ‚àí15% (–∞–∫—Ç–∏–≤–Ω–∞ –∑–∞ 7 –¥–Ω–µ–π –¥–æ –¥–∞—Ç—ã)",
    "–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∫–∏–¥–∫–∞ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ ‚àí3%"
   ]
  };

  let currentClient = null;

  function $(id) {
   return document.getElementById(id);
  }

  function showDashboard() {
   $("login-screen").classList.add("hidden");
   $("dashboard").classList.remove("hidden");
   renderClientData();
  }

  function logout() {
   currentClient = null;
   $("dashboard").classList.add("hidden");
   $("login-screen").classList.remove("hidden");
   $("password-input").value = "";
   $("login-error").style.display = "none";
  }

  function renderClientData() {
   if (!currentClient) return;

   // greeting
   $("user-greeting").textContent = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, ${currentClient.name}`;

   // pills
   $("pill-tier").textContent = `–°—Ç–∞—Ç—É—Å: ${currentClient.tier || "–ö–ª–∏–µ–Ω—Ç"}`;
   $("pill-token").textContent = `–¢–æ–∫–µ–Ω: ${currentClient.token}`;

   // bonuses
   const { balance, frozen, cashback, toNextTier } = currentClient.bonuses;
   $("bonus-balance").textContent = balance + " BYN";
   $("bonus-cashback").textContent = cashback + "%";
   $("bonus-to-next").textContent = toNextTier || "‚Äî";
   $("bonus-balance-2").textContent = balance + " BYN";
   $("bonus-frozen").textContent = frozen + " BYN";

   // addresses summary
   const addrSummary = currentClient.addresses.length
    ? `–°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤: ${currentClient.addresses.length}. –û—Å–Ω–æ–≤–Ω–æ–π ‚Äî ${currentClient.addresses.find(a => a.main)?.city || ""}.`
    : "–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤.";
   $("addresses-summary").textContent = addrSummary;
   $("addresses-count").textContent = `${currentClient.addresses.length} –∞–¥—Ä–µ—Å–æ–≤`;

   // personal offers
   if (currentClient.offers && currentClient.offers.length) {
    $("personal-offers").innerHTML = currentClient.offers
     .map(o => `‚Ä¢ ${o}`)
     .join("<br>");
   }

   // orders summary
   const totalSum = currentClient.orders.history.reduce((acc, o) => acc + o.sum, 0) +
    currentClient.orders.current.reduce((acc, o) => acc + o.sum, 0);
   const totalCount = currentClient.orders.history.length + currentClient.orders.current.length;
   $("orders-summary").innerHTML =
    `–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤: <strong>${totalCount}</strong><br>` +
    `–°—É–º–º–∞ –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤: <strong>${totalSum} BYN</strong>`;

   // current order card
   renderCurrentOrderCard();

   // orders section
   renderOrdersSection();

   // profile
   $("profile-name").value = currentClient.name || "";
   $("profile-phone").value = currentClient.phone || "";
   $("profile-email").value = currentClient.email || "";

   // addresses list
   renderAddressesList();
  }

  function renderCurrentOrderCard() {
   const cardContent = $("current-order-content");
   const statusBadge = $("current-order-status-badge");
   const currentOrders = currentClient.orders.current;

   if (!currentOrders.length) {
    statusBadge.textContent = "–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤";
    cardContent.innerHTML = "–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —É –≤–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤.";
    return;
   }

   const o = currentOrders[0];
   statusBadge.textContent = o.status;
   cardContent.innerHTML = `
    <div class="kpi-row" style="margin-bottom:6px;">
     <div class="kpi-pill accent">–ó–∞–∫–∞–∑ ‚Ññ <strong>${o.id}</strong></div>
     <div class="kpi-pill">–°—É–º–º–∞: <strong>${o.sum} ${o.currency}</strong></div>
     <div class="kpi-pill">–ü—Ä–æ–≥–Ω–æ–∑ –¥–æ—Å—Ç–∞–≤–∫–∏: <strong>${o.eta}</strong></div>
    </div>
    <div style="font-size:12px;margin-bottom:6px;">
     –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏: <strong>${o.address}</strong>
    </div>
    <div style="font-size:12px;margin-bottom:6px;">
     –°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:
     <br>
     ${o.items.map(i => `‚Äì ${i.name} (x${i.qty})`).join("<br>")}
    </div>
    <div class="kpi-row" style="margin-top:6px;">
     <div class="badge-status success">${o.paymentStatus}</div>
     <div class="badge-status pending">–¢—Ä–µ–∫–∏–Ω–≥: ${o.tracking}</div>
    </div>
    <div style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap;">
     <button class="btn btn-primary btn-sm">–û—Ç—Å–ª–µ–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
     <button class="btn btn-ghost btn-sm">–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–æ –∑–∞–∫–∞–∑—É</button>
    </div>
   `;
  }

  function renderOrdersSection() {
   // —Ç–µ–∫—É—â–∏–µ
   const currentList = $("orders-current-list");
   const currentOrders = currentClient.orders.current;
   $("orders-current-count").textContent = `${currentOrders.length} –∞–∫—Ç–∏–≤–Ω—ã—Ö`;

   if (!currentOrders.length) {
    currentList.textContent = "–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤.";
   } else {
    currentList.innerHTML = currentOrders
     .map(o => `
      <div style="border-radius:12px;border:1px solid rgba(255,255,255,0.08);padding:8px 9px;margin-bottom:6px;font-size:12px;">
       <div style="display:flex;justify-content:space-between;gap:6px;margin-bottom:4px;">
        <div>–ó–∞–∫–∞–∑ ‚Ññ <strong>${o.id}</strong></div>
        <div class="badge-status pending">${o.status}</div>
       </div>
       <div>–°—É–º–º–∞: <strong>${o.sum} ${o.currency}</strong></div>
       <div>–ê–¥—Ä–µ—Å: ${o.address}</div>
       <div>–ü—Ä–æ–≥–Ω–æ–∑ –¥–æ—Å—Ç–∞–≤–∫–∏: <strong>${o.eta}</strong></div>
       <div style="margin-top:4px;">–û–ø–ª–∞—Ç–∞: <span class="badge-status success">${o.paymentStatus}</span></div>
       <div style="margin-top:6px;display:flex;gap:6px;flex-wrap:wrap;">
        <button class="btn btn-primary btn-sm">–û—Ç—Å–ª–µ–¥–∏—Ç—å</button>
        <button class="btn btn-ghost btn-sm">–î–æ–∫—É–º–µ–Ω—Ç—ã</button>
       </div>
      </div>
     `)
     .join("");
   }

   // –∏—Å—Ç–æ—Ä–∏—è
   const tbody = $("orders-history-table").querySelector("tbody");
   tbody.innerHTML = "";
   if (!currentClient.orders.history.length) {
    const tr = document.createElement("tr");
    const td = document.createElement("td");
    td.colSpan = 5;
    td.textContent = "–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –ø–æ–∫—É–ø–∫–∏.";
    tr.appendChild(td);
    tbody.appendChild(tr);
   } else {
    currentClient.orders.history.forEach(o => {
     const tr = document.createElement("tr");
     tr.innerHTML = `
      <td>${o.id}</td>
      <td>${o.date}</td>
      <td>${o.sum} BYN</td>
      <td>
       <span class="badge-status ${o.status === "–î–æ—Å—Ç–∞–≤–ª–µ–Ω" ? "success" : ""}">
        ${o.status}
       </span>
      </td>
      <td>
       ${
        o.docs
         ? '<button class="btn btn-ghost btn-sm">–°–∫–∞—á–∞—Ç—å</button>'
         : '<span style="font-size:11px;color:var(--muted);">–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ</span>'
       }
      </td>
     `;
     tbody.appendChild(tr);
    });
   }
  }

  function renderAddressesList() {
   const container = $("addresses-list");
   const addresses = currentClient.addresses;

   if (!addresses.length) {
    container.textContent = "–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤.";
    $("addresses-summary").textContent = "–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤.";
    $("addresses-count").textContent = "0 –∞–¥—Ä–µ—Å–æ–≤";
    return;
   }

   container.innerHTML = "";
   addresses.forEach(addr => {
    const div = document.createElement("div");
    div.className = "pill-address";
    div.innerHTML = `
     <div>
      <div><strong>${addr.city}</strong></div>
      <div style="font-size:12px;">${addr.line}</div>
      <div style="font-size:11px;color:var(--muted);">${addr.comment || ""}</div>
     </div>
     <div class="pill-address-actions">
      ${
       addr.main
        ? '<span class="pill-address-main">–û—Å–Ω–æ–≤–Ω–æ–π</span>'
        : '<button class="btn btn-ghost btn-sm btn-make-main" data-id="' +
         addr.id +
         '">–°–¥–µ–ª–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–º</button>'
      }
      <button class="btn btn-ghost btn-sm btn-delete-addr" data-id="${addr.id}">–£–¥–∞–ª–∏—Ç—å</button>
     </div>
    `;
    container.appendChild(div);
   });

   container.querySelectorAll(".btn-make-main").forEach(btn => {
    btn.addEventListener("click", () => {
     const id = Number(btn.getAttribute("data-id"));
     currentClient.addresses = currentClient.addresses.map(a => ({
      ...a,
      main: a.id === id
     }));
     renderAddressesList();
     renderClientData();
    });
   });

   container.querySelectorAll(".btn-delete-addr").forEach(btn => {
    btn.addEventListener("click", () => {
     const id = Number(btn.getAttribute("data-id"));
     currentClient.addresses = currentClient.addresses.filter(a => a.id !== id);
     renderAddressesList();
     renderClientData();
    });
   });
  }

  // NAVIGATION
  const navButtons = document.querySelectorAll(".nav-item");
  const sections = {
   main: document.getElementById("section-main"),
   orders: document.getElementById("section-orders"),
   bonuses: document.getElementById("section-bonuses"),
   profile: document.getElementById("section-profile"),
   addresses: document.getElementById("section-addresses"),
   support: document.getElementById("section-support")
  };

  navButtons.forEach(btn => {
   btn.addEventListener("click", () => {
    const target = btn.getAttribute("data-section");
    if (!target) return;

    navButtons.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");

    Object.keys(sections).forEach(key => {
     sections[key].classList.toggle("hidden", key !== target);
    });
   });
  });

  // LOGIN HANDLERS
  $("login-btn").addEventListener("click", () => {
   const token = $("token-input").value.trim();
   const pass = $("password-input").value.trim();

   if (token === demoClient.token && pass === demoClient.password) {
    currentClient = structuredClone
     ? structuredClone(demoClient)
     : JSON.parse(JSON.stringify(demoClient));
    $("login-error").style.display = "none";
    showDashboard();
   } else {
    $("login-error").style.display = "block";
   }
  });

  $("fill-demo-btn").addEventListener("click", () => {
   $("token-input").value = demoClient.token;
   $("password-input").value = demoClient.password;
   $("login-error").style.display = "none";
  });

  $("logout-btn").addEventListener("click", logout);

  // PROFILE SAVE (–∏–º–∏—Ç–∞—Ü–∏—è)
  $("btn-save-profile").addEventListener("click", () => {
   if (!currentClient) return;
   currentClient.name = $("profile-name").value.trim() || currentClient.name;
   currentClient.phone = $("profile-phone").value.trim();
   currentClient.email = $("profile-email").value.trim();
   renderClientData();
   alert("–î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã (–ª–æ–∫–∞–ª—å–Ω–æ, –≤ —Ä–∞–º–∫–∞—Ö –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏).");
  });

  $("btn-change-password").addEventListener("click", () => {
   const p1 = $("profile-pass-new").value.trim();
   const p2 = $("profile-pass-confirm").value.trim();
   if (!p1 || !p2) {
    alert("–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –µ–≥–æ.");
    return;
   }
   if (p1 !== p2) {
    alert("–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç.");
    return;
   }
   demoClient.password = p1;
   if (currentClient) currentClient.password = p1;
   $("profile-pass-new").value = "";
   $("profile-pass-confirm").value = "";
   alert("–ü–∞—Ä–æ–ª—å –æ–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è –¥–µ–º–æ-–∫–ª–∏–µ–Ω—Ç–∞ (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –¥–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞).");
  });

  // ADD ADDRESS
  $("btn-add-address").addEventListener("click", () => {
   if (!currentClient) return;
   const city = $("addr-city").value.trim();
   const line = $("addr-line").value.trim();
   const comment = $("addr-comment").value.trim();
   const main = $("addr-main").checked;

   if (!city || !line) {
    alert("–£–∫–∞–∂–∏—Ç–µ —Ö–æ—Ç—è –±—ã –≥–æ—Ä–æ–¥ –∏ —É–ª–∏—Ü—É.");
    return;
   }

   const newId =
    (currentClient.addresses[currentClient.addresses.length - 1]?.id || 0) + 1;

   if (main) {
    currentClient.addresses = currentClient.addresses.map(a => ({
     ...a,
     main: false
    }));
   }

   currentClient.addresses.push({
    id: newId,
    city,
    line,
    comment,
    main
   });

   $("addr-city").value = "";
   $("addr-line").value = "";
   $("addr-comment").value = "";
   $("addr-main").checked = false;

   renderAddressesList();
   renderClientData();
  });

  // CHAT
  function appendChatMessage(text, from = "user") {
   const wrap = $("chat-window");
   const msg = document.createElement("div");
   msg.className = "msg " + (from === "user" ? "msg-user" : "msg-manager");
   msg.innerHTML = `
    ${text}
    <div class="msg-time">–¢–æ–ª—å–∫–æ —á—Ç–æ</div>
   `;
   wrap.appendChild(msg);
   wrap.scrollTop = wrap.scrollHeight;
  }

  $("chat-send-btn").addEventListener("click", () => {
   const input = $("chat-input");
   const text = input.value.trim();
   if (!text) return;
   appendChatMessage(text, "user");
   input.value = "";

   setTimeout(() => {
    appendChatMessage(
     "–°–ø–∞—Å–∏–±–æ –∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ! –í —Ä–µ–∞–ª—å–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –º–µ–Ω–µ–¥–∂–µ—Ä Apple Market –æ—Ç–≤–µ—Ç–∏—Ç –≤–∞–º –∑–¥–µ—Å—å.",
     "manager"
    );
   }, 700);
  });

  $("chat-input").addEventListener("keydown", (e) => {
   if (e.key === "Enter") {
    e.preventDefault();
    $("chat-send-btn").click();
   }
  });

  // Autofill demo data for quick testing
  window.addEventListener("load", () => {
   // optionally autofill demo creds
   // $("token-input").value = demoClient.token;
   // $("password-input").value = demoClient.password;
  });
 </script>

<script>
// ===== DEMO + REAL CLIENTS (FIXED, ROBUST) =====
const DEMO_MODE = true; // –æ—Å—Ç–∞–≤—å true –¥–ª—è –ø–æ–∫–∞–∑–∞, false ‚Äî —á—Ç–æ–±—ã –≤—ã–∫–ª—é—á–∏—Ç—å –¥–µ–º–æ

const demoAccount = {
  token: "000000",
  password: "000000",
  name: "–î–µ–º–æ-–∫–ª–∏–µ–Ω—Ç"
};

const clients = [
  { token: "749201", password: "123456", name: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–æ–≤" },
  { token: "882314", password: "458921", name: "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤" }
];

function loginFixed(){
  const t = document.getElementById("token-input").value.trim();
  const p = document.getElementById("password-input").value.trim();

  // DEMO
  if (DEMO_MODE && t === demoAccount.token && p === demoAccount.password){
    document.getElementById("login-screen").style.display = "none";
    document.getElementById("dashboard").style.display = "block";
    document.getElementById("hello").innerText = "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, " + demoAccount.name + " (–î–ï–ú–û)";
    document.getElementById("login-error").style.display = "none";
    return;
  }

  // REAL CLIENTS
  const found = clients.find(c => String(c.token) === String(t) && String(c.password) === String(p));

  if(found){
    document.getElementById("login-screen").style.display = "none";
    document.getElementById("dashboard").style.display = "block";
    document.getElementById("hello").innerText = "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, " + found.name;
    document.getElementById("login-error").style.display = "none";
  } else {
    document.getElementById("login-error").style.display = "block";
  }
}
</script>

</body>
</html>
